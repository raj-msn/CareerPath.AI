{"ast":null,"code":"import * as _ from 'lodash-es';\nimport * as util from '../util.js';\nexport { sort };\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function (entry) {\n    return _.has(entry, 'barycenter');\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function (entry) {\n      return -entry.i;\n    }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n  sortable.sort(compareWithBias(!!biasRight));\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n  var result = {\n    vs: _.flatten(vs)\n  };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\nfunction compareWithBias(bias) {\n  return function (entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}","map":{"version":3,"names":["_","util","sort","entries","biasRight","parts","partition","entry","has","sortable","lhs","unsortable","sortBy","rhs","i","vs","sum","weight","vsIndex","compareWithBias","consumeUnsortable","forEach","length","push","barycenter","result","flatten","index","last","pop","bias","entryV","entryW"],"sources":["/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/node_modules/dagre-d3-es/src/dagre/order/sort.js"],"sourcesContent":["import * as _ from 'lodash-es';\nimport * as util from '../util.js';\n\nexport { sort };\n\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function (entry) {\n    return _.has(entry, 'barycenter');\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function (entry) {\n      return -entry.i;\n    }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n\n  sortable.sort(compareWithBias(!!biasRight));\n\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n\n  var result = { vs: _.flatten(vs) };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\n\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\n\nfunction compareWithBias(bias) {\n  return function (entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}\n"],"mappings":"AAAA,OAAO,KAAKA,CAAC,MAAM,WAAW;AAC9B,OAAO,KAAKC,IAAI,MAAM,YAAY;AAElC,SAASC,IAAI;AAEb,SAASA,IAAIA,CAACC,OAAO,EAAEC,SAAS,EAAE;EAChC,IAAIC,KAAK,GAAGJ,IAAI,CAACK,SAAS,CAACH,OAAO,EAAE,UAAUI,KAAK,EAAE;IACnD,OAAOP,CAAC,CAACQ,GAAG,CAACD,KAAK,EAAE,YAAY,CAAC;EACnC,CAAC,CAAC;EACF,IAAIE,QAAQ,GAAGJ,KAAK,CAACK,GAAG;IACtBC,UAAU,GAAGX,CAAC,CAACY,MAAM,CAACP,KAAK,CAACQ,GAAG,EAAE,UAAUN,KAAK,EAAE;MAChD,OAAO,CAACA,KAAK,CAACO,CAAC;IACjB,CAAC,CAAC;IACFC,EAAE,GAAG,EAAE;IACPC,GAAG,GAAG,CAAC;IACPC,MAAM,GAAG,CAAC;IACVC,OAAO,GAAG,CAAC;EAEbT,QAAQ,CAACP,IAAI,CAACiB,eAAe,CAAC,CAAC,CAACf,SAAS,CAAC,CAAC;EAE3Cc,OAAO,GAAGE,iBAAiB,CAACL,EAAE,EAAEJ,UAAU,EAAEO,OAAO,CAAC;EAEpDlB,CAAC,CAACqB,OAAO,CAACZ,QAAQ,EAAE,UAAUF,KAAK,EAAE;IACnCW,OAAO,IAAIX,KAAK,CAACQ,EAAE,CAACO,MAAM;IAC1BP,EAAE,CAACQ,IAAI,CAAChB,KAAK,CAACQ,EAAE,CAAC;IACjBC,GAAG,IAAIT,KAAK,CAACiB,UAAU,GAAGjB,KAAK,CAACU,MAAM;IACtCA,MAAM,IAAIV,KAAK,CAACU,MAAM;IACtBC,OAAO,GAAGE,iBAAiB,CAACL,EAAE,EAAEJ,UAAU,EAAEO,OAAO,CAAC;EACtD,CAAC,CAAC;EAEF,IAAIO,MAAM,GAAG;IAAEV,EAAE,EAAEf,CAAC,CAAC0B,OAAO,CAACX,EAAE;EAAE,CAAC;EAClC,IAAIE,MAAM,EAAE;IACVQ,MAAM,CAACD,UAAU,GAAGR,GAAG,GAAGC,MAAM;IAChCQ,MAAM,CAACR,MAAM,GAAGA,MAAM;EACxB;EACA,OAAOQ,MAAM;AACf;AAEA,SAASL,iBAAiBA,CAACL,EAAE,EAAEJ,UAAU,EAAEgB,KAAK,EAAE;EAChD,IAAIC,IAAI;EACR,OAAOjB,UAAU,CAACW,MAAM,IAAI,CAACM,IAAI,GAAG5B,CAAC,CAAC4B,IAAI,CAACjB,UAAU,CAAC,EAAEG,CAAC,IAAIa,KAAK,EAAE;IAClEhB,UAAU,CAACkB,GAAG,CAAC,CAAC;IAChBd,EAAE,CAACQ,IAAI,CAACK,IAAI,CAACb,EAAE,CAAC;IAChBY,KAAK,EAAE;EACT;EACA,OAAOA,KAAK;AACd;AAEA,SAASR,eAAeA,CAACW,IAAI,EAAE;EAC7B,OAAO,UAAUC,MAAM,EAAEC,MAAM,EAAE;IAC/B,IAAID,MAAM,CAACP,UAAU,GAAGQ,MAAM,CAACR,UAAU,EAAE;MACzC,OAAO,CAAC,CAAC;IACX,CAAC,MAAM,IAAIO,MAAM,CAACP,UAAU,GAAGQ,MAAM,CAACR,UAAU,EAAE;MAChD,OAAO,CAAC;IACV;IAEA,OAAO,CAACM,IAAI,GAAGC,MAAM,CAACjB,CAAC,GAAGkB,MAAM,CAAClB,CAAC,GAAGkB,MAAM,CAAClB,CAAC,GAAGiB,MAAM,CAACjB,CAAC;EAC1D,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}