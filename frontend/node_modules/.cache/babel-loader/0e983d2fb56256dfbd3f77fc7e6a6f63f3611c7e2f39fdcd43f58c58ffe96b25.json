{"ast":null,"code":"import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { intersectNode } from './intersect/intersect-node.js';\nimport * as util from './util.js';\nexport { createEdgePaths, setCreateEdgePaths };\nvar createEdgePaths = function (selection, g, arrows) {\n  var previousPaths = selection.selectAll('g.edgePath').data(g.edges(), function (e) {\n    return util.edgeToId(e);\n  }).classed('update', true);\n  var newPaths = enter(previousPaths, g);\n  exit(previousPaths, g);\n  var svgPaths = previousPaths.merge !== undefined ? previousPaths.merge(newPaths) : previousPaths;\n  util.applyTransition(svgPaths, g).style('opacity', 1);\n\n  // Save DOM element in the path group, and set ID and class\n  svgPaths.each(function (e) {\n    var domEdge = d3.select(this);\n    var edge = g.edge(e);\n    edge.elem = this;\n    if (edge.id) {\n      domEdge.attr('id', edge.id);\n    }\n    util.applyClass(domEdge, edge['class'], (domEdge.classed('update') ? 'update ' : '') + 'edgePath');\n  });\n  svgPaths.selectAll('path.path').each(function (e) {\n    var edge = g.edge(e);\n    edge.arrowheadId = _.uniqueId('arrowhead');\n    var domEdge = d3.select(this).attr('marker-end', function () {\n      return 'url(' + makeFragmentRef(location.href, edge.arrowheadId) + ')';\n    }).style('fill', 'none');\n    util.applyTransition(domEdge, g).attr('d', function (e) {\n      return calcPoints(g, e);\n    });\n    util.applyStyle(domEdge, edge.style);\n  });\n  svgPaths.selectAll('defs *').remove();\n  svgPaths.selectAll('defs').each(function (e) {\n    var edge = g.edge(e);\n    var arrowhead = arrows[edge.arrowhead];\n    arrowhead(d3.select(this), edge.arrowheadId, edge, 'arrowhead');\n  });\n  return svgPaths;\n};\nfunction setCreateEdgePaths(value) {\n  createEdgePaths = value;\n}\nfunction makeFragmentRef(url, fragmentId) {\n  var baseUrl = url.split('#')[0];\n  return baseUrl + '#' + fragmentId;\n}\nfunction calcPoints(g, e) {\n  var edge = g.edge(e);\n  var tail = g.node(e.v);\n  var head = g.node(e.w);\n  var points = edge.points.slice(1, edge.points.length - 1);\n  points.unshift(intersectNode(tail, points[0]));\n  points.push(intersectNode(head, points[points.length - 1]));\n  return createLine(edge, points);\n}\nfunction createLine(edge, points) {\n  // @ts-expect-error\n  var line = (d3.line || d3.svg.line)().x(function (d) {\n    return d.x;\n  }).y(function (d) {\n    return d.y;\n  });\n  (line.curve || line.interpolate)(edge.curve);\n  return line(points);\n}\nfunction getCoords(elem) {\n  var bbox = elem.getBBox();\n  var matrix = elem.ownerSVGElement.getScreenCTM().inverse().multiply(elem.getScreenCTM()).translate(bbox.width / 2, bbox.height / 2);\n  return {\n    x: matrix.e,\n    y: matrix.f\n  };\n}\nfunction enter(svgPaths, g) {\n  var svgPathsEnter = svgPaths.enter().append('g').attr('class', 'edgePath').style('opacity', 0);\n  svgPathsEnter.append('path').attr('class', 'path').attr('d', function (e) {\n    var edge = g.edge(e);\n    var sourceElem = g.node(e.v).elem;\n    var points = _.range(edge.points.length).map(function () {\n      return getCoords(sourceElem);\n    });\n    return createLine(edge, points);\n  });\n  svgPathsEnter.append('defs');\n  return svgPathsEnter;\n}\nfunction exit(svgPaths, g) {\n  var svgPathExit = svgPaths.exit();\n  util.applyTransition(svgPathExit, g).style('opacity', 0).remove();\n}","map":{"version":3,"names":["d3","_","intersectNode","util","createEdgePaths","setCreateEdgePaths","selection","g","arrows","previousPaths","selectAll","data","edges","e","edgeToId","classed","newPaths","enter","exit","svgPaths","merge","undefined","applyTransition","style","each","domEdge","select","edge","elem","id","attr","applyClass","arrowheadId","uniqueId","makeFragmentRef","location","href","calcPoints","applyStyle","remove","arrowhead","value","url","fragmentId","baseUrl","split","tail","node","v","head","w","points","slice","length","unshift","push","createLine","line","svg","x","d","y","curve","interpolate","getCoords","bbox","getBBox","matrix","ownerSVGElement","getScreenCTM","inverse","multiply","translate","width","height","f","svgPathsEnter","append","sourceElem","range","map","svgPathExit"],"sources":["/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/node_modules/dagre-d3-es/src/dagre-js/create-edge-paths.js"],"sourcesContent":["import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { intersectNode } from './intersect/intersect-node.js';\nimport * as util from './util.js';\n\nexport { createEdgePaths, setCreateEdgePaths };\n\nvar createEdgePaths = function (selection, g, arrows) {\n  var previousPaths = selection\n    .selectAll('g.edgePath')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  var newPaths = enter(previousPaths, g);\n  exit(previousPaths, g);\n\n  var svgPaths = previousPaths.merge !== undefined ? previousPaths.merge(newPaths) : previousPaths;\n  util.applyTransition(svgPaths, g).style('opacity', 1);\n\n  // Save DOM element in the path group, and set ID and class\n  svgPaths.each(function (e) {\n    var domEdge = d3.select(this);\n    var edge = g.edge(e);\n    edge.elem = this;\n\n    if (edge.id) {\n      domEdge.attr('id', edge.id);\n    }\n\n    util.applyClass(\n      domEdge,\n      edge['class'],\n      (domEdge.classed('update') ? 'update ' : '') + 'edgePath'\n    );\n  });\n\n  svgPaths.selectAll('path.path').each(function (e) {\n    var edge = g.edge(e);\n    edge.arrowheadId = _.uniqueId('arrowhead');\n\n    var domEdge = d3\n      .select(this)\n      .attr('marker-end', function () {\n        return 'url(' + makeFragmentRef(location.href, edge.arrowheadId) + ')';\n      })\n      .style('fill', 'none');\n\n    util.applyTransition(domEdge, g).attr('d', function (e) {\n      return calcPoints(g, e);\n    });\n\n    util.applyStyle(domEdge, edge.style);\n  });\n\n  svgPaths.selectAll('defs *').remove();\n  svgPaths.selectAll('defs').each(function (e) {\n    var edge = g.edge(e);\n    var arrowhead = arrows[edge.arrowhead];\n    arrowhead(d3.select(this), edge.arrowheadId, edge, 'arrowhead');\n  });\n\n  return svgPaths;\n};\n\nfunction setCreateEdgePaths(value) {\n  createEdgePaths = value;\n}\n\nfunction makeFragmentRef(url, fragmentId) {\n  var baseUrl = url.split('#')[0];\n  return baseUrl + '#' + fragmentId;\n}\n\nfunction calcPoints(g, e) {\n  var edge = g.edge(e);\n  var tail = g.node(e.v);\n  var head = g.node(e.w);\n  var points = edge.points.slice(1, edge.points.length - 1);\n  points.unshift(intersectNode(tail, points[0]));\n  points.push(intersectNode(head, points[points.length - 1]));\n\n  return createLine(edge, points);\n}\n\nfunction createLine(edge, points) {\n  // @ts-expect-error\n  var line = (d3.line || d3.svg.line)()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    });\n\n  (line.curve || line.interpolate)(edge.curve);\n\n  return line(points);\n}\n\nfunction getCoords(elem) {\n  var bbox = elem.getBBox();\n  var matrix = elem.ownerSVGElement\n    .getScreenCTM()\n    .inverse()\n    .multiply(elem.getScreenCTM())\n    .translate(bbox.width / 2, bbox.height / 2);\n  return { x: matrix.e, y: matrix.f };\n}\n\nfunction enter(svgPaths, g) {\n  var svgPathsEnter = svgPaths.enter().append('g').attr('class', 'edgePath').style('opacity', 0);\n  svgPathsEnter\n    .append('path')\n    .attr('class', 'path')\n    .attr('d', function (e) {\n      var edge = g.edge(e);\n      var sourceElem = g.node(e.v).elem;\n      var points = _.range(edge.points.length).map(function () {\n        return getCoords(sourceElem);\n      });\n      return createLine(edge, points);\n    });\n  svgPathsEnter.append('defs');\n  return svgPathsEnter;\n}\n\nfunction exit(svgPaths, g) {\n  var svgPathExit = svgPaths.exit();\n  util.applyTransition(svgPathExit, g).style('opacity', 0).remove();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}