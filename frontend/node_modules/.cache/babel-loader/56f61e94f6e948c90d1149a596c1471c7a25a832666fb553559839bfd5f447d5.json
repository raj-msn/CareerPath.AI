{"ast":null,"code":"var _jsxFileName = \"/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/src/components/CareerRoadmapFlow.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { ReactFlow, MiniMap, Controls, Background, useNodesState, useEdgesState, addEdge, Position, MarkerType, Handle } from 'reactflow';\nimport 'reactflow/dist/style.css';\n\n// Custom node types for different phases\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhaseNode = ({\n  data,\n  selected\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `px-4 py-3 shadow-lg rounded-lg border-2 transition-all duration-200 min-w-48 max-w-64 ${selected ? 'border-primary-500 shadow-primary-200' : 'border-gray-300 hover:border-primary-300'} ${data.type === 'start' ? 'bg-green-50 border-green-300' : data.type === 'end' ? 'bg-blue-50 border-blue-300' : 'bg-white'}`,\n    children: [data.type !== 'start' && /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Top,\n      style: {\n        background: '#3b82f6'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this), data.type !== 'end' && /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Bottom,\n      style: {\n        background: '#10b981'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg\",\n        children: data.emoji\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-sm text-gray-800\",\n          children: data.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), data.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: data.duration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), data.description && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 pt-2 border-t border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-600\",\n        children: data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), data.skills && data.skills.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 pt-2 border-t border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-600\",\n        children: [data.skills.slice(0, 3).map((skill, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block bg-gray-100 px-2 py-1 rounded mr-1 mb-1 text-xs\",\n          children: skill\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this)), data.skills.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-400 text-xs\",\n          children: [\"+\", data.skills.length - 3, \" more\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), data.resources && data.resources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 pt-2 border-t border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs font-medium text-gray-700 mb-1\",\n        children: \"\\uD83D\\uDCDA Resources:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [data.resources.slice(0, 2).map((resource, idx) => /*#__PURE__*/_jsxDEV(\"a\", {\n          href: resource.url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"block text-xs text-blue-600 hover:text-blue-800 hover:underline truncate\",\n          onClick: e => e.stopPropagation() // Prevent node selection when clicking links\n          ,\n          children: [\"\\uD83D\\uDD17 \", resource.title]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this)), data.resources.length > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400\",\n          children: [\"+\", data.resources.length - 2, \" more resources\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n\n// Helper function to get relevant resources for a learning phase\n_c = PhaseNode;\nconst getRelevantResources = (phase, resources, phaseIndex) => {\n  if (!resources) return [];\n  const phaseResources = [];\n  const phaseSkills = phase.skills || [];\n  const phaseName = (phase.phase || '').toLowerCase();\n\n  // Match courses to phase skills\n  if (resources.courses) {\n    resources.courses.forEach(course => {\n      const courseSkills = course.skills || [];\n      const hasMatchingSkill = phaseSkills.some(phaseSkill => courseSkills.some(courseSkill => courseSkill.toLowerCase().includes(phaseSkill.toLowerCase()) || phaseSkill.toLowerCase().includes(courseSkill.toLowerCase())));\n\n      // Also match by phase name or course level\n      const matchesPhase = course.title.toLowerCase().includes(phaseName) || phaseIndex === 0 && course.level === 'Beginner' || phaseIndex > 0 && course.level === 'Intermediate' || phaseIndex > 1 && course.level === 'Advanced';\n      if (hasMatchingSkill || matchesPhase) {\n        phaseResources.push({\n          title: course.title,\n          url: course.url || '#',\n          type: 'course',\n          provider: course.provider\n        });\n      }\n    });\n  }\n\n  // Match certifications to phase\n  if (resources.certifications && phaseIndex > 0) {\n    // Show certs for later phases\n    resources.certifications.forEach(cert => {\n      const certSkills = cert.skills || [];\n      const hasMatchingSkill = phaseSkills.some(phaseSkill => certSkills.some(certSkill => certSkill.toLowerCase().includes(phaseSkill.toLowerCase()) || phaseSkill.toLowerCase().includes(certSkill.toLowerCase())));\n      if (hasMatchingSkill) {\n        phaseResources.push({\n          title: cert.title,\n          url: '#',\n          // Certifications might not have direct URLs\n          type: 'certification',\n          provider: cert.provider\n        });\n      }\n    });\n  }\n\n  // Limit to 3 resources per phase to keep cards manageable\n  return phaseResources.slice(0, 3);\n};\n\n// Custom edge with progress indicator\nconst nodeTypes = {\n  phaseNode: PhaseNode\n};\nconst CareerRoadmapFlow = ({\n  learningPath,\n  resources,\n  className = ''\n}) => {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n\n  // Remove defaultEdgeOptions to avoid conflicts\n\n  // Convert learning path data to React Flow nodes and edges\n  useEffect(() => {\n    if (!learningPath || !learningPath.learning_phases) {\n      // Default roadmap when no data - with proper spacing\n      const defaultSpacing = 220; // Larger spacing for default view to match dynamic spacing\n      const defaultNodes = [{\n        id: 'start',\n        type: 'phaseNode',\n        position: {\n          x: 50,\n          y: 50\n        },\n        data: {\n          label: 'Start Your Journey',\n          emoji: '🚀',\n          type: 'start'\n        }\n      }, {\n        id: 'end',\n        type: 'phaseNode',\n        position: {\n          x: 50,\n          y: 50 + defaultSpacing\n        },\n        data: {\n          label: 'Achieve Your Goal',\n          emoji: '🎯',\n          type: 'end'\n        }\n      }];\n      const defaultEdges = [{\n        id: 'start-end',\n        source: 'start',\n        target: 'end',\n        animated: true,\n        style: {\n          stroke: '#3b82f6',\n          strokeWidth: 2\n        },\n        markerEnd: {\n          type: MarkerType.ArrowClosed\n        }\n      }];\n      setNodes(defaultNodes);\n      setEdges(defaultEdges);\n      return;\n    }\n\n    // Generate nodes from learning phases\n    const phaseNodes = [];\n    const phaseEdges = [];\n    const phases = learningPath.learning_phases;\n    console.log('🎨 REACT FLOW: Generating nodes from learning path:', {\n      phases_count: phases.length,\n      timeline: learningPath.timeline,\n      has_changes: !!learningPath.changes_made\n    });\n\n    // Start node with consistent spacing\n    const startY = 50;\n    phaseNodes.push({\n      id: 'start',\n      type: 'phaseNode',\n      position: {\n        x: 50,\n        y: startY\n      },\n      data: {\n        label: 'Current Role',\n        emoji: '👨‍💻',\n        type: 'start'\n      }\n    });\n\n    // Phase nodes - with much better spacing calculation\n    const baseNodeHeight = 140; // More accurate node height estimate\n    const minSpacing = 80; // Larger gap between nodes\n    const nodeSpacing = baseNodeHeight + minSpacing; // Total spacing = 220px between centers\n\n    phases.forEach((phase, index) => {\n      // Calculate position with proper spacing from start node\n      const yPosition = startY + nodeSpacing + index * nodeSpacing;\n\n      // Get relevant resources for this phase\n      const phaseResources = getRelevantResources(phase, resources, index);\n      phaseNodes.push({\n        id: `phase-${index}`,\n        type: 'phaseNode',\n        position: {\n          x: 50,\n          y: yPosition\n        },\n        data: {\n          label: phase.phase || `Phase ${index + 1}`,\n          duration: phase.duration,\n          skills: phase.skills || [],\n          description: phase.description,\n          emoji: ['📚', '🎓', '🏆', '⭐', '🚀', '💡'][index % 6],\n          resources: phaseResources\n        }\n      });\n\n      // Edge from previous node - Blue arrows show learning progression\n      const sourceId = index === 0 ? 'start' : `phase-${index - 1}`;\n      phaseEdges.push({\n        id: `edge-${index}`,\n        source: sourceId,\n        target: `phase-${index}`,\n        animated: true,\n        style: {\n          stroke: '#3b82f6',\n          strokeWidth: 2\n        },\n        markerEnd: {\n          type: MarkerType.ArrowClosed\n        }\n      });\n    });\n\n    // End node with proper spacing from last phase\n    const endY = startY + (phases.length + 1) * nodeSpacing;\n    phaseNodes.push({\n      id: 'end',\n      type: 'phaseNode',\n      position: {\n        x: 50,\n        y: endY\n      },\n      data: {\n        label: 'Target Role',\n        emoji: '🎯',\n        type: 'end'\n      }\n    });\n\n    // Final edge - Green arrow shows goal achievement\n    phaseEdges.push({\n      id: `edge-final`,\n      source: phases.length > 0 ? `phase-${phases.length - 1}` : 'start',\n      target: 'end',\n      animated: true,\n      style: {\n        stroke: '#10b981',\n        strokeWidth: 3\n      },\n      markerEnd: {\n        type: MarkerType.ArrowClosed\n      }\n    });\n\n    // Update with smooth transitions\n    setNodes(prevNodes => {\n      // If this is an update and we have previous nodes, try to preserve positions\n      if (prevNodes.length > 2) {\n        // More than just start/end\n        const nodeMap = new Map(prevNodes.map(node => [node.id, node]));\n        return phaseNodes.map(newNode => {\n          const existingNode = nodeMap.get(newNode.id);\n          if (existingNode) {\n            // Preserve position and any user interactions\n            return {\n              ...newNode,\n              position: existingNode.position\n            };\n          }\n          return newNode;\n        });\n      }\n      return phaseNodes;\n    });\n    setEdges(phaseEdges);\n\n    // Log the update for debugging\n    console.log('🎨 REACT FLOW: Updated with', phaseNodes.length, 'nodes and', phaseEdges.length, 'edges');\n  }, [learningPath]);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), [setEdges]);\n  const onNodeClick = useCallback((event, node) => {\n    setSelectedNode(node);\n  }, []);\n  if (!learningPath) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex items-center justify-center p-8 text-gray-500 ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-2\",\n          children: \"\\uD83D\\uDDFA\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-medium\",\n          children: \"Interactive Career Roadmap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"Start a conversation to generate your personalized path!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-full h-full ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      onNodeClick: onNodeClick,\n      nodeTypes: nodeTypes,\n      fitView: true,\n      fitViewOptions: {\n        padding: 0.2\n      },\n      attributionPosition: \"bottom-left\",\n      children: [/*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MiniMap, {\n        nodeStrokeColor: n => n.type === 'input' ? '#10b981' : '#3b82f6',\n        nodeColor: n => n.data.type === 'start' ? '#dcfce7' : n.data.type === 'end' ? '#dbeafe' : '#f9fafb',\n        nodeBorderRadius: 8,\n        className: \"!bg-gray-50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Background, {\n        variant: \"dots\",\n        gap: 12,\n        size: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), selectedNode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 right-4 w-64 bg-white rounded-lg shadow-lg border p-4 z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-800\",\n          children: selectedNode.data.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedNode(null),\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), selectedNode.data.duration && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Duration:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 15\n        }, this), \" \", selectedNode.data.duration]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 13\n      }, this), selectedNode.data.skills && selectedNode.data.skills.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-gray-700 mb-2\",\n          children: \"Skills to develop:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1\",\n          children: selectedNode.data.skills.map((skill, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-block bg-primary-100 text-primary-800 px-2 py-1 rounded text-xs mr-1\",\n            children: skill\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 361,\n    columnNumber: 5\n  }, this);\n};\n_s(CareerRoadmapFlow, \"UFIIiIZTel7Vgnd4zrLdJ9SGkG0=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c2 = CareerRoadmapFlow;\nexport default CareerRoadmapFlow;\nvar _c, _c2;\n$RefreshReg$(_c, \"PhaseNode\");\n$RefreshReg$(_c2, \"CareerRoadmapFlow\");","map":{"version":3,"names":["React","useCallback","useState","useEffect","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","Position","MarkerType","Handle","jsxDEV","_jsxDEV","PhaseNode","data","selected","className","type","children","position","Top","style","background","fileName","_jsxFileName","lineNumber","columnNumber","Bottom","emoji","label","duration","description","skills","length","slice","map","skill","idx","resources","resource","href","url","target","rel","onClick","e","stopPropagation","title","_c","getRelevantResources","phase","phaseIndex","phaseResources","phaseSkills","phaseName","toLowerCase","courses","forEach","course","courseSkills","hasMatchingSkill","some","phaseSkill","courseSkill","includes","matchesPhase","level","push","provider","certifications","cert","certSkills","certSkill","nodeTypes","phaseNode","CareerRoadmapFlow","learningPath","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","selectedNode","setSelectedNode","learning_phases","defaultSpacing","defaultNodes","id","x","y","defaultEdges","source","animated","stroke","strokeWidth","markerEnd","ArrowClosed","phaseNodes","phaseEdges","phases","console","log","phases_count","timeline","has_changes","changes_made","startY","baseNodeHeight","minSpacing","nodeSpacing","index","yPosition","sourceId","endY","prevNodes","nodeMap","Map","node","newNode","existingNode","get","onConnect","params","eds","onNodeClick","event","fitView","fitViewOptions","padding","attributionPosition","nodeStrokeColor","n","nodeColor","nodeBorderRadius","variant","gap","size","_c2","$RefreshReg$"],"sources":["/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/src/components/CareerRoadmapFlow.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport {\n  ReactFlow,\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Position,\n  MarkerType,\n  Handle,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\n// Custom node types for different phases\nconst PhaseNode = ({ data, selected }) => {\n  return (\n    <div className={`px-4 py-3 shadow-lg rounded-lg border-2 transition-all duration-200 min-w-48 max-w-64 ${\n      selected \n        ? 'border-primary-500 shadow-primary-200' \n        : 'border-gray-300 hover:border-primary-300'\n    } ${data.type === 'start' ? 'bg-green-50 border-green-300' : \n         data.type === 'end' ? 'bg-blue-50 border-blue-300' : \n         'bg-white'}`}>\n      \n      {/* Input handle (top) - except for start node */}\n      {data.type !== 'start' && (\n        <Handle\n          type=\"target\"\n          position={Position.Top}\n          style={{ background: '#3b82f6' }}\n        />\n      )}\n      \n      {/* Output handle (bottom) - except for end node */}\n      {data.type !== 'end' && (\n        <Handle\n          type=\"source\"\n          position={Position.Bottom}\n          style={{ background: '#10b981' }}\n        />\n      )}\n      \n      <div className=\"flex items-center space-x-2\">\n        <div className=\"text-lg\">{data.emoji}</div>\n        <div className=\"flex-1\">\n          <div className=\"font-semibold text-sm text-gray-800\">{data.label}</div>\n          {data.duration && (\n            <div className=\"text-xs text-gray-500\">{data.duration}</div>\n          )}\n        </div>\n      </div>\n      \n      {data.description && (\n        <div className=\"mt-2 pt-2 border-t border-gray-200\">\n          <div className=\"text-xs text-gray-600\">{data.description}</div>\n        </div>\n      )}\n      \n      {data.skills && data.skills.length > 0 && (\n        <div className=\"mt-2 pt-2 border-t border-gray-200\">\n          <div className=\"text-xs text-gray-600\">\n            {data.skills.slice(0, 3).map((skill, idx) => (\n              <span key={idx} className=\"inline-block bg-gray-100 px-2 py-1 rounded mr-1 mb-1 text-xs\">\n                {skill}\n              </span>\n            ))}\n            {data.skills.length > 3 && (\n              <span className=\"text-gray-400 text-xs\">+{data.skills.length - 3} more</span>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Resource Links Section */}\n      {data.resources && data.resources.length > 0 && (\n        <div className=\"mt-2 pt-2 border-t border-gray-200\">\n          <div className=\"text-xs font-medium text-gray-700 mb-1\">📚 Resources:</div>\n          <div className=\"space-y-1\">\n            {data.resources.slice(0, 2).map((resource, idx) => (\n              <a\n                key={idx}\n                href={resource.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block text-xs text-blue-600 hover:text-blue-800 hover:underline truncate\"\n                onClick={(e) => e.stopPropagation()} // Prevent node selection when clicking links\n              >\n                🔗 {resource.title}\n              </a>\n            ))}\n            {data.resources.length > 2 && (\n              <div className=\"text-xs text-gray-400\">+{data.resources.length - 2} more resources</div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Helper function to get relevant resources for a learning phase\nconst getRelevantResources = (phase, resources, phaseIndex) => {\n  if (!resources) return [];\n  \n  const phaseResources = [];\n  const phaseSkills = phase.skills || [];\n  const phaseName = (phase.phase || '').toLowerCase();\n  \n  // Match courses to phase skills\n  if (resources.courses) {\n    resources.courses.forEach(course => {\n      const courseSkills = course.skills || [];\n      const hasMatchingSkill = phaseSkills.some(phaseSkill => \n        courseSkills.some(courseSkill => \n          courseSkill.toLowerCase().includes(phaseSkill.toLowerCase()) ||\n          phaseSkill.toLowerCase().includes(courseSkill.toLowerCase())\n        )\n      );\n      \n      // Also match by phase name or course level\n      const matchesPhase = course.title.toLowerCase().includes(phaseName) ||\n                          (phaseIndex === 0 && course.level === 'Beginner') ||\n                          (phaseIndex > 0 && course.level === 'Intermediate') ||\n                          (phaseIndex > 1 && course.level === 'Advanced');\n      \n      if (hasMatchingSkill || matchesPhase) {\n        phaseResources.push({\n          title: course.title,\n          url: course.url || '#',\n          type: 'course',\n          provider: course.provider\n        });\n      }\n    });\n  }\n  \n  // Match certifications to phase\n  if (resources.certifications && phaseIndex > 0) { // Show certs for later phases\n    resources.certifications.forEach(cert => {\n      const certSkills = cert.skills || [];\n      const hasMatchingSkill = phaseSkills.some(phaseSkill => \n        certSkills.some(certSkill => \n          certSkill.toLowerCase().includes(phaseSkill.toLowerCase()) ||\n          phaseSkill.toLowerCase().includes(certSkill.toLowerCase())\n        )\n      );\n      \n      if (hasMatchingSkill) {\n        phaseResources.push({\n          title: cert.title,\n          url: '#', // Certifications might not have direct URLs\n          type: 'certification',\n          provider: cert.provider\n        });\n      }\n    });\n  }\n  \n  // Limit to 3 resources per phase to keep cards manageable\n  return phaseResources.slice(0, 3);\n};\n\n// Custom edge with progress indicator\nconst nodeTypes = {\n  phaseNode: PhaseNode,\n};\n\nconst CareerRoadmapFlow = ({ learningPath, resources, className = '' }) => {\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n\n  // Remove defaultEdgeOptions to avoid conflicts\n\n  // Convert learning path data to React Flow nodes and edges\n  useEffect(() => {\n    if (!learningPath || !learningPath.learning_phases) {\n      // Default roadmap when no data - with proper spacing\n      const defaultSpacing = 220; // Larger spacing for default view to match dynamic spacing\n      const defaultNodes = [\n        {\n          id: 'start',\n          type: 'phaseNode',\n          position: { x: 50, y: 50 },\n          data: { \n            label: 'Start Your Journey', \n            emoji: '🚀',\n            type: 'start'\n          },\n        },\n        {\n          id: 'end',\n          type: 'phaseNode', \n          position: { x: 50, y: 50 + defaultSpacing },\n          data: { \n            label: 'Achieve Your Goal', \n            emoji: '🎯',\n            type: 'end'\n          },\n        },\n      ];\n\n      const defaultEdges = [\n        {\n          id: 'start-end',\n          source: 'start',\n          target: 'end',\n          animated: true,\n          style: { stroke: '#3b82f6', strokeWidth: 2 },\n          markerEnd: {\n            type: MarkerType.ArrowClosed,\n          },\n        },\n      ];\n\n      setNodes(defaultNodes);\n      setEdges(defaultEdges);\n      return;\n    }\n\n    // Generate nodes from learning phases\n    const phaseNodes = [];\n    const phaseEdges = [];\n    const phases = learningPath.learning_phases;\n    \n    console.log('🎨 REACT FLOW: Generating nodes from learning path:', {\n      phases_count: phases.length,\n      timeline: learningPath.timeline,\n      has_changes: !!learningPath.changes_made\n    });\n    \n    // Start node with consistent spacing\n    const startY = 50;\n    phaseNodes.push({\n      id: 'start',\n      type: 'phaseNode',\n      position: { x: 50, y: startY },\n      data: { \n        label: 'Current Role', \n        emoji: '👨‍💻',\n        type: 'start'\n      },\n    });\n\n    // Phase nodes - with much better spacing calculation\n    const baseNodeHeight = 140; // More accurate node height estimate\n    const minSpacing = 80; // Larger gap between nodes\n    const nodeSpacing = baseNodeHeight + minSpacing; // Total spacing = 220px between centers\n    \n    phases.forEach((phase, index) => {\n      // Calculate position with proper spacing from start node\n      const yPosition = startY + nodeSpacing + (index * nodeSpacing);\n      \n      // Get relevant resources for this phase\n      const phaseResources = getRelevantResources(phase, resources, index);\n      \n      phaseNodes.push({\n        id: `phase-${index}`,\n        type: 'phaseNode',\n        position: { x: 50, y: yPosition },\n        data: {\n          label: phase.phase || `Phase ${index + 1}`,\n          duration: phase.duration,\n          skills: phase.skills || [],\n          description: phase.description,\n          emoji: ['📚', '🎓', '🏆', '⭐', '🚀', '💡'][index % 6],\n          resources: phaseResources,\n        },\n      });\n\n      // Edge from previous node - Blue arrows show learning progression\n      const sourceId = index === 0 ? 'start' : `phase-${index - 1}`;\n      phaseEdges.push({\n        id: `edge-${index}`,\n        source: sourceId,\n        target: `phase-${index}`,\n        animated: true,\n        style: { stroke: '#3b82f6', strokeWidth: 2 },\n        markerEnd: {\n          type: MarkerType.ArrowClosed,\n        },\n      });\n    });\n\n    // End node with proper spacing from last phase\n    const endY = startY + (phases.length + 1) * nodeSpacing;\n    phaseNodes.push({\n      id: 'end',\n      type: 'phaseNode',\n      position: { x: 50, y: endY },\n      data: { \n        label: 'Target Role', \n        emoji: '🎯',\n        type: 'end'\n      },\n    });\n\n    // Final edge - Green arrow shows goal achievement\n    phaseEdges.push({\n      id: `edge-final`,\n      source: phases.length > 0 ? `phase-${phases.length - 1}` : 'start',\n      target: 'end',\n      animated: true,\n      style: { stroke: '#10b981', strokeWidth: 3 },\n      markerEnd: {\n        type: MarkerType.ArrowClosed,\n      },\n    });\n\n    // Update with smooth transitions\n    setNodes((prevNodes) => {\n      // If this is an update and we have previous nodes, try to preserve positions\n      if (prevNodes.length > 2) { // More than just start/end\n        const nodeMap = new Map(prevNodes.map(node => [node.id, node]));\n        return phaseNodes.map(newNode => {\n          const existingNode = nodeMap.get(newNode.id);\n          if (existingNode) {\n            // Preserve position and any user interactions\n            return {\n              ...newNode,\n              position: existingNode.position,\n            };\n          }\n          return newNode;\n        });\n      }\n      return phaseNodes;\n    });\n    \n    setEdges(phaseEdges);\n    \n    // Log the update for debugging\n    console.log('🎨 REACT FLOW: Updated with', phaseNodes.length, 'nodes and', phaseEdges.length, 'edges');\n    \n  }, [learningPath]);\n\n  const onConnect = useCallback(\n    (params) => setEdges((eds) => addEdge(params, eds)),\n    [setEdges]\n  );\n\n  const onNodeClick = useCallback((event, node) => {\n    setSelectedNode(node);\n  }, []);\n\n  if (!learningPath) {\n    return (\n      <div className={`flex items-center justify-center p-8 text-gray-500 ${className}`}>\n        <div className=\"text-center\">\n          <div className=\"text-4xl mb-2\">🗺️</div>\n          <p className=\"text-lg font-medium\">Interactive Career Roadmap</p>\n          <p className=\"text-sm\">Start a conversation to generate your personalized path!</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`w-full h-full ${className}`}>\n      <ReactFlow\n        nodes={nodes}\n        edges={edges}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        onConnect={onConnect}\n        onNodeClick={onNodeClick}\n        nodeTypes={nodeTypes}\n\n        fitView\n        fitViewOptions={{ padding: 0.2 }}\n        attributionPosition=\"bottom-left\"\n      >\n        <Controls />\n        <MiniMap \n          nodeStrokeColor={(n) => n.type === 'input' ? '#10b981' : '#3b82f6'}\n          nodeColor={(n) => n.data.type === 'start' ? '#dcfce7' : \n                           n.data.type === 'end' ? '#dbeafe' : '#f9fafb'}\n          nodeBorderRadius={8}\n          className=\"!bg-gray-50\"\n        />\n        <Background variant=\"dots\" gap={12} size={1} />\n      </ReactFlow>\n\n      {/* Side panel for selected node details */}\n      {selectedNode && (\n        <div className=\"absolute top-4 right-4 w-64 bg-white rounded-lg shadow-lg border p-4 z-10\">\n          <div className=\"flex justify-between items-start mb-3\">\n            <h3 className=\"font-semibold text-gray-800\">{selectedNode.data.label}</h3>\n            <button \n              onClick={() => setSelectedNode(null)}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              ×\n            </button>\n          </div>\n          \n          {selectedNode.data.duration && (\n            <p className=\"text-sm text-gray-600 mb-2\">\n              <strong>Duration:</strong> {selectedNode.data.duration}\n            </p>\n          )}\n          \n          {selectedNode.data.skills && selectedNode.data.skills.length > 0 && (\n            <div>\n              <p className=\"text-sm font-medium text-gray-700 mb-2\">Skills to develop:</p>\n              <div className=\"space-y-1\">\n                {selectedNode.data.skills.map((skill, idx) => (\n                  <span key={idx} className=\"inline-block bg-primary-100 text-primary-800 px-2 py-1 rounded text-xs mr-1\">\n                    {skill}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CareerRoadmapFlow; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}