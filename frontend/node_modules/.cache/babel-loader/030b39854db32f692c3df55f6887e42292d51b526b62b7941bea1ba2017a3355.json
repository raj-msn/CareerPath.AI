{"ast":null,"code":"import * as _ from 'lodash-es';\nimport { barycenter } from './barycenter.js';\nimport { resolveConflicts } from './resolve-conflicts.js';\nimport { sort } from './sort.js';\nexport { sortSubgraph };\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight : undefined;\n  var subgraphs = {};\n  if (bl) {\n    movable = _.filter(movable, function (w) {\n      return w !== bl && w !== br;\n    });\n  }\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function (entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, 'barycenter')) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n  var result = sort(entries, biasRight);\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br]);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, 'barycenter')) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight + blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n  return result;\n}\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function (entry) {\n    entry.vs = _.flatten(entry.vs.map(function (v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }));\n  });\n}\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight + other.barycenter * other.weight) / (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}","map":{"version":3,"names":["_","barycenter","resolveConflicts","sort","sortSubgraph","g","v","cg","biasRight","movable","children","node","bl","borderLeft","undefined","br","borderRight","subgraphs","filter","w","barycenters","forEach","entry","length","subgraphResult","has","mergeBarycenters","entries","expandSubgraphs","result","vs","flatten","predecessors","blPred","brPred","weight","order","map","target","other","isUndefined"],"sources":["/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/node_modules/dagre-d3-es/src/dagre/order/sort-subgraph.js"],"sourcesContent":["import * as _ from 'lodash-es';\nimport { barycenter } from './barycenter.js';\nimport { resolveConflicts } from './resolve-conflicts.js';\nimport { sort } from './sort.js';\n\nexport { sortSubgraph };\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight : undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function (w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function (entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, 'barycenter')) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br]);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, 'barycenter')) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter =\n        (result.barycenter * result.weight + blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function (entry) {\n    entry.vs = _.flatten(\n      entry.vs.map(function (v) {\n        if (subgraphs[v]) {\n          return subgraphs[v].vs;\n        }\n        return v;\n      })\n    );\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter =\n      (target.barycenter * target.weight + other.barycenter * other.weight) /\n      (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}