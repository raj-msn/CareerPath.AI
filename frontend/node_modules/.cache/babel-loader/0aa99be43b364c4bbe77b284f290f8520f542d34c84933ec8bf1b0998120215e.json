{"ast":null,"code":"import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\nexport { createNodes, setCreateNodes };\nvar createNodes = function (selection, g, shapes) {\n  var simpleNodes = g.nodes().filter(function (v) {\n    return !util.isSubgraph(g, v);\n  });\n  var svgNodes = selection.selectAll('g.node').data(simpleNodes, function (v) {\n    return v;\n  }).classed('update', true);\n  svgNodes.exit().remove();\n  svgNodes.enter().append('g').attr('class', 'node').style('opacity', 0);\n  svgNodes = selection.selectAll('g.node');\n  svgNodes.each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    util.applyClass(thisGroup, node['class'], (thisGroup.classed('update') ? 'update ' : '') + 'node');\n    thisGroup.select('g.label').remove();\n    var labelGroup = thisGroup.append('g').attr('class', 'label');\n    var labelDom = addLabel(labelGroup, node);\n    var shape = shapes[node.shape];\n    var bbox = _.pick(labelDom.node().getBBox(), 'width', 'height');\n    node.elem = this;\n    if (node.id) {\n      thisGroup.attr('id', node.id);\n    }\n    if (node.labelId) {\n      labelGroup.attr('id', node.labelId);\n    }\n    if (_.has(node, 'width')) {\n      bbox.width = node.width;\n    }\n    if (_.has(node, 'height')) {\n      bbox.height = node.height;\n    }\n    bbox.width += node.paddingLeft + node.paddingRight;\n    bbox.height += node.paddingTop + node.paddingBottom;\n    labelGroup.attr('transform', 'translate(' + (node.paddingLeft - node.paddingRight) / 2 + ',' + (node.paddingTop - node.paddingBottom) / 2 + ')');\n    var root = d3.select(this);\n    root.select('.label-container').remove();\n    var shapeSvg = shape(root, bbox, node).classed('label-container', true);\n    util.applyStyle(shapeSvg, node.style);\n    var shapeBBox = shapeSvg.node().getBBox();\n    node.width = shapeBBox.width;\n    node.height = shapeBBox.height;\n  });\n  var exitSelection;\n  if (svgNodes.exit) {\n    exitSelection = svgNodes.exit();\n  } else {\n    exitSelection = svgNodes.selectAll(null); // empty selection\n  }\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n  return svgNodes;\n};\nfunction setCreateNodes(value) {\n  createNodes = value;\n}","map":{"version":3,"names":["d3","_","addLabel","util","createNodes","setCreateNodes","selection","g","shapes","simpleNodes","nodes","filter","v","isSubgraph","svgNodes","selectAll","data","classed","exit","remove","enter","append","attr","style","each","node","thisGroup","select","applyClass","labelGroup","labelDom","shape","bbox","pick","getBBox","elem","id","labelId","has","width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","root","shapeSvg","applyStyle","shapeBBox","exitSelection","applyTransition","value"],"sources":["/Users/anasshaik/Desktop/Projects/CareerPath.AI/frontend/node_modules/dagre-d3-es/src/dagre-js/create-nodes.js"],"sourcesContent":["import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createNodes, setCreateNodes };\n\nvar createNodes = function (selection, g, shapes) {\n  var simpleNodes = g.nodes().filter(function (v) {\n    return !util.isSubgraph(g, v);\n  });\n  var svgNodes = selection\n    .selectAll('g.node')\n    .data(simpleNodes, function (v) {\n      return v;\n    })\n    .classed('update', true);\n\n  svgNodes.exit().remove();\n\n  svgNodes.enter().append('g').attr('class', 'node').style('opacity', 0);\n\n  svgNodes = selection.selectAll('g.node');\n\n  svgNodes.each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    util.applyClass(\n      thisGroup,\n      node['class'],\n      (thisGroup.classed('update') ? 'update ' : '') + 'node'\n    );\n\n    thisGroup.select('g.label').remove();\n    var labelGroup = thisGroup.append('g').attr('class', 'label');\n    var labelDom = addLabel(labelGroup, node);\n    var shape = shapes[node.shape];\n    var bbox = _.pick(labelDom.node().getBBox(), 'width', 'height');\n\n    node.elem = this;\n\n    if (node.id) {\n      thisGroup.attr('id', node.id);\n    }\n    if (node.labelId) {\n      labelGroup.attr('id', node.labelId);\n    }\n\n    if (_.has(node, 'width')) {\n      bbox.width = node.width;\n    }\n    if (_.has(node, 'height')) {\n      bbox.height = node.height;\n    }\n\n    bbox.width += node.paddingLeft + node.paddingRight;\n    bbox.height += node.paddingTop + node.paddingBottom;\n    labelGroup.attr(\n      'transform',\n      'translate(' +\n        (node.paddingLeft - node.paddingRight) / 2 +\n        ',' +\n        (node.paddingTop - node.paddingBottom) / 2 +\n        ')'\n    );\n\n    var root = d3.select(this);\n    root.select('.label-container').remove();\n    var shapeSvg = shape(root, bbox, node).classed('label-container', true);\n    util.applyStyle(shapeSvg, node.style);\n\n    var shapeBBox = shapeSvg.node().getBBox();\n    node.width = shapeBBox.width;\n    node.height = shapeBBox.height;\n  });\n\n  var exitSelection;\n\n  if (svgNodes.exit) {\n    exitSelection = svgNodes.exit();\n  } else {\n    exitSelection = svgNodes.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgNodes;\n};\n\nfunction setCreateNodes(value) {\n  createNodes = value;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}