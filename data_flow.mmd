graph LR
    %% Input Data
    Query[📝 User Query<br/>"I want to become<br/>a senior engineer"] --> Processing{🔄 Agent Processing}
    
    %% Agent Data Processing
    Processing --> SkillsData[📊 Skills Analysis<br/>strengths, gaps, level]
    Processing --> IndustryData[🏢 Industry Research<br/>salary, demand, trends]
    Processing --> LearningData[🛤️ Learning Path<br/>phases, timeline, milestones]
    Processing --> ResourcesData[📚 Resources Collection<br/>courses, certifications]
    
    %% Web Search Enhancement
    ResourcesData --> WebSearch[🔍 Web Search<br/>Tavily API]
    WebSearch --> CurrentResources[📋 Current Resources<br/>up-to-date links]
    
    %% State Aggregation
    SkillsData --> SharedState[💾 CareerPlanningState<br/>LangGraph]
    IndustryData --> SharedState
    LearningData --> SharedState
    CurrentResources --> SharedState
    
    %% Output Generation
    SharedState --> JSONResponse[📤 JSON Response<br/>structured data]
    SharedState --> ChatResponse[💬 Chat Response<br/>markdown text]
    SharedState --> FlowData[🗺️ Flow Data<br/>nodes & edges]
    
    %% Frontend Rendering
    JSONResponse --> ReactApp[⚛️ React App]
    ChatResponse --> ChatUI[💬 Chat Interface]
    FlowData --> Visualization[🗺️ Interactive Roadmap]
    
    %% User Interaction
    Visualization --> ClickableLinks[🔗 Clickable Resources<br/>direct access to courses]
    
    %% Styling
    classDef inputData fill:#E3F2FD,stroke:#1976D2
    classDef processing fill:#FFF3E0,stroke:#F57C00
    classDef agentData fill:#E8F5E8,stroke:#388E3C
    classDef webData fill:#F3E5F5,stroke:#7B1FA2
    classDef stateData fill:#FAFAFA,stroke:#616161
    classDef outputData fill:#FFF8E1,stroke:#F9A825
    classDef uiData fill:#E1F5FE,stroke:#0277BD
    
    class Query inputData
    class Processing processing
    class SkillsData,IndustryData,LearningData,ResourcesData agentData
    class WebSearch,CurrentResources webData
    class SharedState stateData
    class JSONResponse,ChatResponse,FlowData outputData
    class ReactApp,ChatUI,Visualization,ClickableLinks uiData